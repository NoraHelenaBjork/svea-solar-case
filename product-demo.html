<!-- Exercise 2: Multiple Query Parameters -->
<!DOCTYPE html>
<html>
<head>
    <title>Exercise 2: Multiple Query Parameters</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const productName  = urlParams.get('product') || 'Product';
            const productColor = urlParams.get('color')   || 'Default';
            const examplePrice = 49.99;  // Du kan byta till dynamiskt värde om du vill
            
            // Update H1 with both parameters
            if (urlParams.has('product') || urlParams.has('color')) {
                document.getElementById('product-heading').innerText =
                    `${productName} – ${productColor}`;
                
                // Initialize dataLayer
                window.dataLayer = window.dataLayer || [];
                
                // Push enhanced ecommerce productView event
                window.dataLayer.push({
                    event: 'productView',
                    ecommerce: {
                        items: [{
                            item_id:      productName,
                            item_name:    productName,
                            item_variant: productColor,
                            price:        examplePrice,
                            currency:     'USD'
                        }]
                    },
                    pageCategory: 'demo-product',
                    timestamp:    new Date().toISOString()
                });
                
                console.log('Enhanced productView:', window.dataLayer);
            }
        });
    </script>
</head>
<body>
    <h1 id="product-heading">Product Information</h1>
    <p>Try adding <code>?product=Laptop&color=Silver</code> to the URL</p>
</body>
</html>
